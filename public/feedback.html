<html lang="en">

<head>


    <!--bootstrap-slider-->
    <link href="/javascripts/bootstrap-slider/bootstrap-slider.min.css" rel="stylesheet"/>
    <script type="text/javascript" src="/javascripts/bootstrap-slider/bootstrap-slider.min.js"></script>

    <!--custom css-->
    <link href="/stylesheets/style.css" rel="stylesheet">

    <script>

        var pass = false;

        $(document).ready(function () {


            document.getElementById("no_of_taps").innerHTML = Math.round(tap_count_total);
            document.getElementById("cv_value").innerHTML = (100 - Math.round(coefficient_of_variation * 100 * 10) / 10) + " %";
            $('#ex1').slider({
                value: (100 - (coefficient_of_variation * 100)),
                formatter: function (value) {
                    return 'Current value: ' + value;
                }
            });

            pass = true;
            if (tap_count_total < min_taps) {
                pass = false;
                $('#min_taps').css('color', 'rgb(255,0,0)');
            }
            if (coefficient_of_variation > max_cv) {
                pass = false;
                $('#min_cv').css('color', 'rgb(255,0,0)');
            }
            if (total_tap_time > min_tap_time) {
                $('#too_short').hide();
            } else pass = false;

            if (pass) {
                $('#fail_message').hide();
                $('#continue_button').text("Continue");
                $('#continue_button').attr('onclick', 'load_postquestions()');

            } else {
                $('#success_message').hide();
                $('#continue_button').text("Try again");
                $('#continue_button').attr('onclick', 'load_experiment()');
            }
            $("#content").show();
        });

        function onContinue() {
            if (pass) {
                load_postquestions();
            } else {
                load_experiment();
            }
        }

    </script>
</head>

<body>
<h1 class="display-4">Results</h1>
<br>
<p class="lead" id="fail_message">Sorry, but your taps were either not even enough or too few.
    <br>Remember, try to pace taps evenly at your most comfortable rate for as long as indicated by the timer.
    <br>Please try again!</p>
<p class="lead" id="success_message">Very good! Your taps were even!
    <br>Please click 'Continue', we have a few more questions for you.</p>

<br>
<p>NUMBER OF TAPS:
    <br>
    <span id="no_of_taps" style="color: rgba(0,59,247,0.86); ">none</span>
    <span id="min_taps" style="color: rgba(111,111,111,0.86); ">(min. 8 taps required)</span>
</p>
<p>EVENNESS OF TAPS:
    <br>
    <span id="cv_value" style="color: rgba(0,59,247,0.86); ">none</span>
    <span id="min_cv" style="color: rgba(111,111,111,0.86); ">(min. 90,2% required)</span>
</p>
<p id="too_short"><span
        style="color: rgb(255,0,0); ">You need to tap as long as the timer is running, please try again.</span></p>
<br>
<span class="slider-label">< 80%</span>
<image id="sad" src="/images/sad.png" style="width:5%"/>
<input style="width:60%" id="ex1" data-slider-enabled="false" data-slider-id='ex1Slider' type="text" data-slider-min="80"
       data-slider-max="100" data-slider-step="1"
       data-slider-rangeHighlights='[{ "start": 90, "end": 90.5}]'/>
<image src="/images/happy.png" style="width:5%"/>
<span class="slider-label">100%</span>
<br>
<br>
<br>

<p><a id="continue_button" class="btn btn-lg btn-success btn-simon" href="#" role="button">Continue</a></p>


</body>
</html>