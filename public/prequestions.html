<html lang="en">

<head>

    <!--bootstrap-->
    <!--<link rel="stylesheet" href="/javascripts/bootstrap.min.css">-->
    <!--<script src="/javascripts/bootstrap.min.js"></script>-->
    <!--<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->

    <!--jquery-->
    <!--<script src="/javascripts/jquery.min.js"></script>-->

    <!--custom css-->
    <link href="/stylesheets/style.css" rel="stylesheet">

    <!--bootstrap-datepicker-->
    <script type="text/javascript" src="/javascripts/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
    <link href="/javascripts/bootstrap-datepicker/bootstrap-datepicker3.css" rel="stylesheet"/>

    <!--bootstrap helpers-->
    <link href="/javascripts/bootstrap-formhelpers/bootstrap-formhelpers.min.css" rel="stylesheet">
    <script type="text/javascript" src="/javascripts/bootstrap-formhelpers/bootstrap-formhelpers.min.js"></script>

    <script>

        $(document).ready(function () {

            getLocation();

            var $select = $("#dob");
            for (i = 2018; i >= 1917; i--) {
                $select.append($('<option></option>').val(i).html(i))
            }

//            var date_input = $('input[name="birthdate"]'); //our date input has the name "date"
//            var container = $('.bootstrap-iso form').length > 0 ? $('.bootstrap-iso form').parent() : "body";
//            var options = {
//                format: 'mm/dd/yyyy',
//                container: container,
//                todayHighlight: true,
//                autoclose: true,
//            };
//            date_input.datepicker(options);

            $("#content").show();
            setContentText();
        });

        function onContinue() {

            date_of_birth = $('#dob').val();
            gender = $('#gender').val();
            heritage = $('#heritage').val();
            city_size = $('#size').val();

            if (date_of_birth == ""
                || gender == ""
                || heritage == ""
                || city_size == "") {
                window.alert(langJson.prequestions_warning);
            } else {
                load_experiment();
            }
        }

        var dobPreselected = false;

        function onDob() {
            if (dobPreselected) return;
            $("#dob").val('1980');
            dobPreselected = true;
        }

        var heritagePreselected = false;

        function onHeritage() {
            if (heritagePreselected) return;
            $("#heritage").val('DE');
            heritagePreselected = true;
        }

        function setContentText() {
            $("#prequestions_title").html(langJson.prequestions_title);
            $("#prequestions_q1").html(langJson.prequestions_q1);
            $("#prequestions_q2").html(langJson.prequestions_q2);
            $("#prequestions_q2_o1").html(langJson.prequestions_q2_o1);
            $("#prequestions_q2_o2").html(langJson.prequestions_q2_o2);
            $("#prequestions_q2_o3").html(langJson.prequestions_q2_o3);
            $("#prequestions_q3").html(langJson.prequestions_q3);
            $("#prequestions_q4").html(langJson.prequestions_q4);
            $("#prequestions_q4_o1").html(langJson.prequestions_q4_o1);
            $("#prequestions_q4_o2").html(langJson.prequestions_q4_o2);
            $("#prequestions_q4_o3").html(langJson.prequestions_q4_o3);
            $("#prequestions_q4_o4").html(langJson.prequestions_q4_o4);
            $("#prequestions_q4_o5").html(langJson.prequestions_q4_o5);
            $("#prequestions_q4_o6").html(langJson.prequestions_q4_o6);
            $("#prequestions_q4_o7").html(langJson.prequestions_q4_o7);
            $("#prequestions_q4_o8").html(langJson.prequestions_q4_o8);
            $("#prequestions_q4_o9").html(langJson.prequestions_q4_o9);
            $("#prequestions_start").html(langJson.prequestions_start);
        }

    </script>
</head>

<body>

<h1 id="prequestions_title" class="display-4">Questionnaire</h1>

<br>
<br>

<div align="left">

    <!--date of birth-->
    <div class="form-group">
        <label id="prequestions_q1" for="dob">Which year were you born?</label>
        <select class="form-control" id="dob" onmousedown="onDob()">
            <option></option>
        </select>
    </div>
    <!--<label for="dob">What is you date of birth?</label>-->
    <!--<input class="form-control" type="text" name="birthdate" id="dob"/>-->
    <!--<br>-->

    <!--gender-->
    <div class="form-group">
        <label id="prequestions_q2" for="gender">What is your gender?</label>
        <select class="form-control" id="gender">
            <option></option>
            <option id="prequestions_q2_o1">male</option>
            <option id="prequestions_q2_o2">female</option>
            <option id="prequestions_q2_o3">other</option>
        </select>
    </div>

    <!--heritage-->
    <label id="prequestions_q3" for="heritage">In which country have you spent most of your life?</label>
    <form><select id="heritage" class="form-control bfh-countries" onmousedown="onHeritage()"></select></form>
    <!--<select class="form-control bfh-countries"></select>-->

    <!--city size-->
    <div class="form-group">
        <label id="prequestions_q4" for="size">How large is the population of the area you currently live in?</label>
        <select class="form-control" id="size">
            <option></option>
            <option id="prequestions_q4_o1">More than 10 million people</option>
            <option id="prequestions_q4_o2">3 to 10 million people</option>
            <option id="prequestions_q4_o3">1 to 3 million people</option>
            <option id="prequestions_q4_o4">300,000 to 1 million people</option>
            <option id="prequestions_q4_o5">100,000 to 300,000 people</option>
            <option id="prequestions_q4_o6">20,000 to 100,000 people</option>
            <option id="prequestions_q4_o7">1,000 to 20,000 people</option>
            <option id="prequestions_q4_o8">100 to 1,000 people</option>
            <option id="prequestions_q4_o9">Less than 100 people</option>
        </select>
    </div>
    <br>

</div>

<p><a id="prequestions_start" class="btn btn-lg btn-success btn-simon" href="#" role="button" onclick="onContinue()">Start</a>
</p>
</body>
</html>